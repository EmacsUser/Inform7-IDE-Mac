<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>10.7. Multiple beginnings and repeats</title></head>
<STYLE TYPE="text/css">
<!--
.oval, .oval TD
{
background-image:url('../doc_images/ovoid.png');
color:white;
}
-->
</STYLE>
<body>
<!-- SEARCH TITLE "Exit Strategy" -->
<!-- SEARCH SECTION "Ex 132" -->
<!-- SEARCH SORT "Ex 010-007-132" -->
<font size=2><table CELLPADDING=0 CELLSPACING=0 width="100%" bgcolor="#000000"><tr><TD width=38px height=26px align="center" valign="center"><a href=doc148.html border=0><img border=0 src=../doc_images/Hookleft.png id="hookleft" style="height: 24px; width: 32px;" border=0></a></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0><a href=../chap10.html STYLE="text-decoration: none"><font color="#FFFFFF" size=2>Chapter 10: Scenes</font></a></td><TD width=56px height=26px align="right" valign="center"><a href=../index.html border=0><img border=0 src=../doc_images/Hookup.png id="hookup" style="height: 24px; width: 24px;" border=0></a><a href=doc150.html border=0><img border=0 src=../doc_images/Hookright.png id="hookright" style="height: 24px; width: 32px;" border=0></a></td></tr></table><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><TD height=8px halign="center" valign="center"></td></tr></table><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><TD width=38px halign="center" valign="center"></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0><font color="#000000" size="3"><b>10.7. Multiple beginnings and repeats</b></font></td></tr></table>
<p>
<p>It is quite allowed for a scene to be linked to several other scenes, and this is useful if several alternate strands of plot are being brought together in a common resolution scene:
<p>
<blockquote><font color="#000080">Bittersweet Ending begins when Stranger's Rejection ends.
<br>Bittersweet Ending begins when Stranger's Acceptance ends.
</font></blockquote><p>
<p>
<p>and we can also have the same scene beginning when a condition holds. In general, it will begin the first time it gets any chance to do so. More surprisingly, it will begin again as soon after it ends as it can. All scenes repeat themselves, if given the chance.
<p>
<p>This is intentional, and can be useful. Suppose the train calls not once only, but every twenty minutes. We could set this up with two scenes linked back to back like so:
<p>
<blockquote><font color="#000080">Train Wait begins when play begins.
<br>Train Stop begins when Train Wait ends.
<br>Train Wait begins when Train Stop ends.
</font></blockquote><p>
<p>
<p><hr><p>
<!-- EXAMPLE START -->
<a name="e229"><table CELLPADDING=0 CELLSPACING=0><tr><td halign="left" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="oval"><TD width=38px height=30px align="left" valign="center"><a href=doc149.html#e229 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><b>131</b></div></a></TD></TR></TABLE></td><td CELLPADDING=0 CELLSPACING=0 halign="left" valign="top"><font size=2><a href=doc149.html#e229 STYLE="text-decoration: none"><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><b><font color="#505050">&nbsp;<b>Example</b>&nbsp;</font> <font color="#000000"> Exit Strategy</font></b></a><br>A scene that begins exactly one time, and some discussion of the scene change machinery.<p></td></tr></table>
<table border=0 bgcolor="#f0f0f0" width=100%><tr><td><font size=2>
<p>
<p>It is not uncommon to want a scene to occur only once; fortunately, we can easily make this work by adding the condition &quot;if ...whatever scene... has not happened&quot; to the begins when... rule. For instance, the following will make Confrontation happen just the one time:
<p>
<blockquote><font color="#000080"><script language="JavaScript">
function pasteCode226(code) {
    var myProject = external.Project;

    myProject.selectView('source');
    myProject.pasteCode('"Exit Strategy"\n\nAirport Gate is a room. "Stream-lined and sterile, like airport gates in almost any country -- or at least, in any country to which you can legally fly. The mass of people is moving slowly and with muttering toward the Customs Area to the north."\n\nThe Customs Area is north of the Airport Gate. The guard is a man in Customs Area. "A guard in grey fatiques watches the passing crowds, selecting people to inspect."\n\nConfrontation is a scene. Confrontation begins when Confrontation has not happened and the player is in the Customs Area. Confrontation ends when the guard carries the bag.\n\n[It is particularly important that we make this scene happen once only, because it is otherwise possible to get the game stuck in a loop: when the player is in the Customs Area and the guard carries the bag, the conditions for both ending and beginning the scene are fulfilled. Without the "has not happened" condition, the scene will then end and begin, end and begin, over and over, until the game halts with the error message ">--> The scene change machinery is stuck."]\n\n[If we find that we are getting this error message and cannot figure out what is wrong, it is usually a good idea to type SCENES to turn on scene debugging, then run through the steps that cause the error condition. When it is clear what set of scenes is firing, a glance at their starting and ending conditions may reveal the nature of the problem.]\n\n[The rest is largely window-dressing, but will help us see when scenes start and end.]\n\nWhen Confrontation begins:\n\tsay "\'Ma\'am,\' says the guard to you at once. \'I\'m going to have to ask to see your luggage.\'\n\n\'Luggage\' seems an awfully fancy name for your little bag, but he looks determined."\n\nEvery turn during Confrontation: if the guard is visible, say "The guard waits, tapping his foot."\n\nBefore going south during Confrontation:\n\tsay "You retreat toward the gate -- a cowardly maneuver. You\'re going to have to go past him sooner or later."\n\nWhen Confrontation ends:\n\tsay "The guard begins pawing through your bag, muttering to himself in a language you don\'t recognize."\n\nThe player carries a bag. The bag contains three postcards, a candy bar, and a smuggled fetish doll.\n\nInstead of giving the bag to the guard:\n\tnow the guard carries the bag;\n\tsay "The guard accepts the bag carefully."\n\nTest me with "north / s / n / give bag to guard".\n');
}
</script>
<a href="javascript:pasteCode226()"><img border=0 src=../doc_images/paste.png></a> &quot;Exit Strategy&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Airport Gate is a room. &quot;Stream-lined and sterile, like airport gates in almost any country -- or at least, in any country to which you can legally fly. The mass of people is moving slowly and with muttering toward the Customs Area to the north.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The Customs Area is north of the Airport Gate. The guard is a man in Customs Area. &quot;A guard in grey fatiques watches the passing crowds, selecting people to inspect.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Confrontation is a scene. Confrontation begins when Confrontation has not happened and the player is in the Customs Area. Confrontation ends when the guard carries the bag.
</font></blockquote><p>
<p>
<p>It is particularly important that we make this scene happen once only, because it is otherwise possible to get the game stuck in a loop: when the player is in the Customs Area and the guard carries the bag, the conditions for both ending and beginning the scene are fulfilled. Without the &quot;has not happened&quot; condition, the scene will then end and begin, end and begin, over and over, until the game halts with the error message &quot;>--> The scene change machinery is stuck.&quot;
<p>
<p>If we find that we are getting this error message and cannot figure out what is wrong, it is usually a good idea to type SCENES to turn on scene debugging, then run through the steps that cause the error condition. When it is clear what set of scenes is firing, a glance at their starting and ending conditions may reveal the nature of the problem.
<p>
<p>The rest is largely window-dressing, but will help us see when scenes start and end.
<p>
<blockquote><font color="#000080">When Confrontation begins:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;'Ma'am,' says the guard to you at once. 'I'm going to have to ask to see your luggage.'
</font></blockquote><p>
<p>
<blockquote><font color="#000080">'Luggage' seems an awfully fancy name for your little bag, but he looks determined.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Every turn during Confrontation: if the guard is visible, say &quot;The guard waits, tapping his foot.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Before going south during Confrontation:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;You retreat toward the gate -- a cowardly maneuver. You're going to have to go past him sooner or later.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">When Confrontation ends:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;The guard begins pawing through your bag, muttering to himself in a language you don't recognize.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The player carries a bag. The bag contains three postcards, a candy bar, and a smuggled fetish doll.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Instead of giving the bag to the guard:
<br>&nbsp;&nbsp;&nbsp;&nbsp;now the guard carries the bag;
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;The guard accepts the bag carefully.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Test me with &quot;north / s / n / give bag to guard&quot;.
</font></blockquote><p>
<table CELLPADDING=0 CELLSPACING=0 width="100%" height=18><tr><td width="100%"> </td><td width=18 align="left" bgcolor="#000000"><a href=doc149.html><img src=../doc_images/Hookclose.png id="hookclose" style="height: 17px; width: 17px;" border="0"></a></td><td width=4></td><td width=18 align="left" bgcolor="#000000"><a href=../recipes.html><img src=../doc_images/Hookrecipe.png id="hookrecipe" style="height: 17px; width: 17px;" border="0"></a></td><td width=4></td><td width=18 align="left" bgcolor="#000000"><a href=../examples.html><img src=../doc_images/Hookindex.png id="hookindex" style="height: 17px; width: 17px;" border="0"></a></td></tr></table></td></tr></table><p>
<!-- EXAMPLE END -->
<a name="e199"><table CELLPADDING=0 CELLSPACING=0><tr><td halign="left" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="oval"><TD width=38px height=30px align="left" valign="center"><a href=ex199.html#e199 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><b>132</b></div></a></TD></TR></TABLE></td><td CELLPADDING=0 CELLSPACING=0 halign="left" valign="top"><font size=2><a href=ex199.html#e199 STYLE="text-decoration: none"><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><b><font color="#505050">&nbsp;Example&nbsp;</font> <font color="#000000">Pine 3</font></b></a><br>Pine: Allowing the player to visit aspects of the past in memory and describe these events to the princess, as a break from the marriage-proposal scene.<p></td></tr></table>
<p><hr><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td width="33%" align="left"><a href=doc148.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Previous</font></a></td><td width="33%" align="center"><a href=../index.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Contents</font></a></td><td width="33%" align="right"><a href=doc150.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Next</font></a></td></tr></table></font></body></html>
