<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>17.23. Asking which do you mean</title></head>
<STYLE TYPE="text/css">
<!--
.oval, .oval TD
{
background-image:url('../doc_images/ovoid.png');
color:white;
}
-->
</STYLE>
<body>
<!-- SEARCH TITLE "Walls and Noses" -->
<!-- SEARCH SECTION "Ex 273" -->
<!-- SEARCH SORT "Ex 017-023-273" -->
<font size=2><table CELLPADDING=0 CELLSPACING=0 width="100%" bgcolor="#000000"><tr><TD width=38px height=26px align="center" valign="center"><a href=doc277.html border=0><img border=0 src=../doc_images/Hookleft.png id="hookleft" style="height: 24px; width: 32px;" border=0></a></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0><a href=../chap17.html STYLE="text-decoration: none"><font color="#FFFFFF" size=2>Chapter 17: Activities</font></a></td><TD width=56px height=26px align="right" valign="center"><a href=../index.html border=0><img border=0 src=../doc_images/Hookup.png id="hookup" style="height: 24px; width: 24px;" border=0></a><a href=doc279.html border=0><img border=0 src=../doc_images/Hookright.png id="hookright" style="height: 24px; width: 32px;" border=0></a></td></tr></table><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><TD height=8px halign="center" valign="center"></td></tr></table><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><TD width=38px halign="center" valign="center"></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0><font color="#000000" size="3"><b>17.23. Asking which do you mean</b></font></td></tr></table>
<p>
<p><b>1. When it happens.</b> When the player has typed an ambiguous noun reference, and Inform has not been able to decide what was meant.
<p>
<p><b>2. The default behaviour.</b> A question such as &quot;Which do you mean, the laminated mahogany box or the boom box?&quot; is printed. (This activity shapes the question: it is not responsible for parsing the answer. It would be very mysterious to write rules for this activity such that nothing is printed, because the player would then have no idea what to type.)
<p>
<p><b>3. Examples.</b> The question is harder to print than may first appear, since one must not simply list the options, but also take into account collections of plural objects (&quot;Which do you mean, the gold-tipped pen or a gold coin?''). It is probably better not to try to rewrite this.
<p>
<p>(a) But we can place notes before or after: here is a verbose explanation for beginners to IF.
<p>
<blockquote><font color="#000080">Before asking which do you mean: say &quot;Okay, so I'm going to have to ask a question now: you've typed something ambiguous, and I don't know which noun you're referring to.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">After asking which do you mean: say &quot;(Just type a word or two to give me more information.)&quot;
</font></blockquote><p>
<p>
<p>(b) We can also use this activity as a context for other activities. For instance:
<p>
<blockquote><font color="#000080">The Champs du Mars is a room. The great Eiffel Tower is here. &quot;The great Tower stands high over you.&quot; The souvenir model Eiffel Tower is here. &quot;Comparatively tiny is the souvenir version.&quot; The great Eiffel Tower is fixed in place. Understand &quot;actual&quot; as the great Tower.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Rule for printing the name of the great Tower while asking which do you mean: say &quot;actual Tower&quot;. Rule for printing the name of the souvenir tower while asking which do you mean: say &quot;souvenir&quot;.
</font></blockquote><p>
<p>
<p>causes TAKE TOWER (for instance) to produce a nice tidy question in reply: &quot;Which do you mean, the actual Tower or the souvenir?&quot;
<p>
<p><b>4. A note about actions.</b> This activity takes place during the process of understanding the player's command, when the action that will take place is not fully known. So if the player types &quot;TAKE SHOEBOX&quot;, this activity would happen when SHOEBOX is being examined for meaning. Inform knows that the action will be taking, but nothing else. That means attaching a proviso like &quot;... while taking a container&quot; to a rule for this activity will cause the rule to have no effect - whereas &quot;... while taking&quot; would be fine.
<p>
<p><hr><p>
<a name="e8"><table CELLPADDING=0 CELLSPACING=0><tr><td halign="left" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="oval"><TD width=38px height=30px align="left" valign="center"><a href=ex8.html#e8 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><b>271</b></div></a></TD></TR></TABLE></td><td CELLPADDING=0 CELLSPACING=0 halign="left" valign="top"><font size=2><a href=ex8.html#e8 STYLE="text-decoration: none"><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><b><font color="#505050">&nbsp;Example&nbsp;</font> <font color="#000000"> Apples</font></b></a><br>Prompting the player on how to disambiguate otherwise similar objects.<p></td></tr></table>
<!-- EXAMPLE START -->
<a name="e288"><table CELLPADDING=0 CELLSPACING=0><tr><td halign="left" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="oval"><TD width=38px height=30px align="left" valign="center"><a href=doc278.html#e288 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><b>272</b></div></a></TD></TR></TABLE></td><td CELLPADDING=0 CELLSPACING=0 halign="left" valign="top"><font size=2><a href=doc278.html#e288 STYLE="text-decoration: none"><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><img border="0" style="height: 15px; width: 13px;" alt="*" src='../doc_images/asterisk.png'><b><font color="#505050">&nbsp;<b>Example</b>&nbsp;</font> <font color="#000000"> Walls and Noses</font></b></a><br>Responding to "EXAMINE WALL" with "In which direction?", and to "EXAMINE NOSE" with "Whose nose do you mean, Frederica's, Betty's, Wilma's or your own?"<p></td></tr></table>
<table border=0 bgcolor="#f0f0f0" width=100%><tr><td><font size=2>
<p>
<p>Suppose we want our game to respond to &quot;EXAMINE WALL&quot; with &quot;In which direction?&quot;, and to &quot;EXAMINE NOSE&quot; with &quot;Whose nose do you mean, Frederica's, Betty's, Wilma's or your own?&quot;
<p>
<p>For the case of EXAMINE WALL, we need a way to determine whether every item being disambiguated is a direction. We'll start by making a &quot;matched&quot; adjective which will identify items being disambiguated:
<p>
<blockquote><font color="#000080"><script language="JavaScript">
function pasteCode364(code) {
    var myProject = external.Project;

    myProject.selectView('source');
    myProject.pasteCode('"Walls and Noses"\n\nEight-Walled Chamber is a room. "A perfectly octagonal room whose walls are tinted in various hues."\n\nUnderstand "wall" as a direction.\n\nDefinition: a direction is matched if it fits the parse list.\nDefinition: a room is matched if it fits the parse list.\nDefinition: a thing is matched if it fits the parse list.\n\nRule for asking which do you mean when everything matched is direction:\n\tsay "In which direction?"\n\n[Checking the parse list requires a bit of behind-the-scenes work with Inform 6. Fortunately, you don\'t have to understand this entirely in order to use the rest of the example:]\n\nTo decide whether (N - an object) fits the parse list:\n\t(- (FindInParseList({N})) -)\n\nInclude (-\n[ FindInParseList obj i k marker;\n\tmarker = 0;\n\tfor (i=1 : i<=number_of_classes : i++) {\n\twhile (((match_classes-->marker) ~= i) && ((match_classes-->marker) ~= -i)) marker++;\n\tk = match_list-->marker;\n\tif (k==obj) rtrue;\n\t}\n\trfalse;\n];\n-)\n\n[Now that we\'ve defined our "matched" adjective, we can use it for other purposes as well -- even generating our own lists. Our second challege was to respond to EXAMINE NOSE with "Whose nose do you mean, Frederica\'s, Betty\'s, Wilma\'s or your own?"]\n\n[Here we need to change the way the question is worded (not "which do you mean" but "whose nose do you mean"). We also have to the names of the noses as they\'re printed in this particular context, so that they don\'t repeat the word "nose" over and over. And -- as a point of good English style -- we also want "your own" nose always to be last on the list.]\n\n[For this purpose we may want to use the built-in "Complex Listing" extension, which allows us to print specially ordered lists. So:]\n\nInclude Complex Listing by Emily Short.\n\nWilma, Betty, and Frederica are women in the Eight-Walled Chamber. Understand "lady" or "woman" as a woman. A nose is a kind of thing. A nose is part of every person.\n\nRule for asking which do you mean when everything matched is a nose:\n\tprepare a list of matched things;\n\tif your nose is an output listed in the Table of Scored Listing\n\tbegin;\n\t\tchoose row with an output of your nose in the Table of Scored Listing;\n\t\tchange the assigned score entry to -1;\n\tend if;\n\tsay "Whose nose do you mean, [the prepared list delimited in disjunctive style]?"\n\nRule for printing the name of a nose (called target) while asking which do you mean :\n\tif everything matched is a nose\n\tbegin;\n\t\tif the target is part of a person (called owner)\n\t\tbegin;\n\t\t\tif the owner is the player, say "your own";\n\t\t\totherwise say "[the owner][apostrophe]s";\n\t\tend if;\n\totherwise;\n\t\tmake no decision;\n\tend if.\n\nUnderstand "own" or "mine" as your nose.\n\nTest me with "x wall / north / x nose / mine".\n');
}
</script>
<a href="javascript:pasteCode364()"><img border=0 src=../doc_images/paste.png></a> &quot;Walls and Noses&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Eight-Walled Chamber is a room. &quot;A perfectly octagonal room whose walls are tinted in various hues.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Understand &quot;wall&quot; as a direction.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Definition: a direction is matched if it fits the parse list.
<br>Definition: a room is matched if it fits the parse list.
<br>Definition: a thing is matched if it fits the parse list.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Rule for asking which do you mean when everything matched is direction:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;In which direction?&quot;
</font></blockquote><p>
<p>
<p>Checking the parse list requires a bit of behind-the-scenes work with Inform 6. Fortunately, you don't have to understand this entirely in order to use the rest of the example:
<p>
<blockquote><font color="#000080">To decide whether (N - an object) fits the parse list:
<br>&nbsp;&nbsp;&nbsp;&nbsp;(- (FindInParseList({N})) -)
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Include (-
<br>[ FindInParseList obj i k marker;
<br>&nbsp;&nbsp;&nbsp;&nbsp;marker = 0;
<br>&nbsp;&nbsp;&nbsp;&nbsp;for (i=1 : i<=number_of_classes : i++) {
<br>&nbsp;&nbsp;&nbsp;&nbsp;while (((match_classes-->marker) ~= i) && ((match_classes-->marker) ~= -i)) marker++;
<br>&nbsp;&nbsp;&nbsp;&nbsp;k = match_list-->marker;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if (k==obj) rtrue;
<br>&nbsp;&nbsp;&nbsp;&nbsp;}
<br>&nbsp;&nbsp;&nbsp;&nbsp;rfalse;
<br>];
<br>-)
</font></blockquote><p>
<p>
<p>Now that we've defined our &quot;matched&quot; adjective, we can use it for other purposes as well -- even generating our own lists. Our second challege was to respond to EXAMINE NOSE with &quot;Whose nose do you mean, Frederica's, Betty's, Wilma's or your own?&quot;
<p>
<p>Here we need to change the way the question is worded (not &quot;which do you mean&quot; but &quot;whose nose do you mean&quot;). We also have to the names of the noses as they're printed in this particular context, so that they don't repeat the word &quot;nose&quot; over and over. And -- as a point of good English style -- we also want &quot;your own&quot; nose always to be last on the list.
<p>
<p>For this purpose we may want to use the built-in &quot;Complex Listing&quot; extension, which allows us to print specially ordered lists. So:
<p>
<blockquote><font color="#000080">Include Complex Listing by Emily Short.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Wilma, Betty, and Frederica are women in the Eight-Walled Chamber. Understand &quot;lady&quot; or &quot;woman&quot; as a woman. A nose is a kind of thing. A nose is part of every person.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Rule for asking which do you mean when everything matched is a nose:
<br>&nbsp;&nbsp;&nbsp;&nbsp;prepare a list of matched things;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if your nose is an output listed in the Table of Scored Listing
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;choose row with an output of your nose in the Table of Scored Listing;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change the assigned score entry to -1;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end if;
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;Whose nose do you mean, [the prepared list delimited in disjunctive style]?&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Rule for printing the name of a nose (called target) while asking which do you mean :
<br>&nbsp;&nbsp;&nbsp;&nbsp;if everything matched is a nose
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if the target is part of a person (called owner)
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if the owner is the player, say &quot;your own&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;otherwise say &quot;[the owner][apostrophe]s&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end if;
<br>&nbsp;&nbsp;&nbsp;&nbsp;otherwise;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;make no decision;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end if.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Understand &quot;own&quot; or &quot;mine&quot; as your nose.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Test me with &quot;x wall / north / x nose / mine&quot;.
</font></blockquote><p>
<table CELLPADDING=0 CELLSPACING=0 width="100%" height=18><tr><td width="100%"> </td><td width=18 align="left" bgcolor="#000000"><a href=doc278.html><img src=../doc_images/Hookclose.png id="hookclose" style="height: 17px; width: 17px;" border="0"></a></td><td width=4></td><td width=18 align="left" bgcolor="#000000"><a href=../recipes.html><img src=../doc_images/Hookrecipe.png id="hookrecipe" style="height: 17px; width: 17px;" border="0"></a></td><td width=4></td><td width=18 align="left" bgcolor="#000000"><a href=../examples.html><img src=../doc_images/Hookindex.png id="hookindex" style="height: 17px; width: 17px;" border="0"></a></td></tr></table></td></tr></table><p>
<!-- EXAMPLE END -->
<p><hr><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td width="33%" align="left"><a href=doc277.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Previous</font></a></td><td width="33%" align="center"><a href=../index.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Contents</font></a></td><td width="33%" align="right"><a href=doc279.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Next</font></a></td></tr></table></font></body></html>
