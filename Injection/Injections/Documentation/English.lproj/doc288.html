<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>18.5. The preamble of a rule</title></head>
<STYLE TYPE="text/css">
<!--
.oval, .oval TD
{
background-image:url('../../doc_images/ovoid.png');
color:white;
}
-->
</STYLE>
<body>
<!-- SEARCH TITLE "The preamble of a rule" -->
<!-- SEARCH SECTION "18.5" -->
<!-- SEARCH SORT "018-005-000" -->
<font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<table CELLPADDING=0 CELLSPACING=0 width="100%" bgcolor="#000000"><tr><TD width=38px height=26px align="center" valign="center"><a href=doc287.html border=0><img border=0 src=../../doc_images/Hookleft.png id="hookleft" style="height: 24px; width: 32px;" border=0></a></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0><a href=../chap18.html STYLE="text-decoration: none"><font color="#FFFFFF" size=2>Chapter 18: Rulebooks</font></a></td><TD width=56px height=26px align="right" valign="center"><a href=../index.html border=0><img border=0 src=../../doc_images/Hookup.png id="hookup" style="height: 24px; width: 24px;" border=0></a><a href=doc289.html border=0><img border=0 src=../../doc_images/Hookright.png id="hookright" style="height: 24px; width: 32px;" border=0></a></td></tr></table><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><TD height=8px halign="center" valign="center"></td></tr></table><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><TD width=38px halign="center" valign="center"></td><td halign="left" valign="center" CELLPADDING=0 CELLSPACING=0><font color="#000000" size="3"><b>18.5. The preamble of a rule</b></font></td></tr></table>
<p>
<p>In general, a rule looks like this:
<p>
<blockquote><font color="#000080">preamble : list of one or more phrases divided by semicolons
</font></blockquote><p>
<p>
<p>though in a few common cases (where the preamble begins with Before, After, Instead of, Every turn, or When, and there is only one phrase in the list) the colon can be replaced with a comma. If we leave adjective definitions (which begin &quot;Definition: ...&quot;) and phrase definitions (which begin &quot;To ...&quot;, or &quot;To decide if&quot;, etc.) out of the picture, then the preamble can either just be a name, which is required to end with the word &quot;rule&quot;, or it can give circumstances and have no name, or it can do both:
<p>
<blockquote><font color="#000080">This is the ...name of rule...
<br>...circumstances...
<br>...circumstances... (this is the ...name of rule...)
</font></blockquote><p>
<p>
<p>The circumstances are in turn either one of these:
<p>
<blockquote><font color="#000080">At ...specific time of day...
<br>When ...name of event...
</font></blockquote><p>
<p>
<p>or else a sequence of the following ingredients, each of which is optional except the name of the rulebook:
<p>
<blockquote><font color="#000080">first <i>or</i> last
<br><i>followed by</i> ...rulebook name...
<br><i>followed by</i> about <i>or</i> for <i>or</i> of <i>or</i> on <i>or</i> rule
<br><i>followed by</i> ...what to apply to...
<br><i>followed by</i> while <i>or</i> when ...condition...
</font></blockquote><p>
<p>
<p>As we shall later see, the word &quot;first&quot; or &quot;last&quot; tells Inform where the new rule should be placed into its rulebook. The use of any of the words &quot;about&quot;, &quot;for&quot;, etc., is purely to make the grammar easier to follow for: Inform does not make any direct use of these words (except perhaps that it may help to avoid ambiguities by separating the rulebook name from what is being applied to). Thus in the rule
<p>
<blockquote><font color="#000080">Instead of kissing Clark: ...
</font></blockquote><p>
<p>
<p>the word &quot;instead&quot; is the rulebook's name, while &quot;of&quot; is technically optional; it would compile equally well (though not look as good) if we wrote
<p>
<blockquote><font color="#000080">Instead kissing Clark: ...
<br>Instead for kissing Clark: ...
<br>Instead about kissing Clark: ...
<br>Instead on kissing Clark: ...
</font></blockquote><p>
<p>
<p>...but what this means is that we may use these spare words in rules where they will help to smooth out the way the source text reads.
<p>
<p>In this whole list of possible ingredients, only the rulebook name is compulsory. We could define a rule called simply &quot;Instead: ...&quot; if we wanted - though its universal applicability would make it pretty disruptive, with every action stopped in its tracks. Alternatively, we could define a rule which constrains not the action but some other circumstance. For instance, the following is legal:
<p>
<blockquote><font color="#000080">Before when in the Manufacturing Plant: ...
</font></blockquote><p>
<p>
<p>which would create a rule applying to all actions performed in that room; though we could do the same thing, a little more elegantly, as
<p>
<blockquote><font color="#000080">Before doing something when in the Manufacturing Plant: ...
</font></blockquote><p>
<p>
<p><hr><p>
<a name="e26"><table CELLPADDING=0 CELLSPACING=0><tr><td halign="left" valign="top" CELLPADDING=0 CELLSPACING=0 width=38px><TABLE align="left" CELLPADDING=0 CELLSPACING=0><TR CLASS="oval"><TD width=38px height=30px align="left" valign="center"><a href=ex26.html#e26 STYLE="text-decoration: none"><div class="paragraph Body" style="line-height: 1px; margin-bottom: 0px; margin-top: 4px; padding-bottom: 0pt; padding-top: 4px; text-align: center; color: #202020; font-size: 14px; line-height: 1px;"><b>273</b></div></a></TD></TR></TABLE></td><td CELLPADDING=0 CELLSPACING=0 halign="left" valign="top"><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><a href=ex26.html#e26 STYLE="text-decoration: none"><img border="0" style="height: 15px; width: 13px;" src='../../doc_images/asterisk.png'><img border="0" style="height: 15px; width: 13px;" src='../../doc_images/asterisk.png'><img border="0" style="height: 15px; width: 13px;" src='../../doc_images/asterisk.png'><b><font color="#505050">&nbsp;Example&nbsp;</font> <font color="#000000">Backus-Naur form for rules</font></b></a><br>The full grammar Inform uses to parse rule definitions, in a standard computer-science notation.<p></td></tr></table>
<p><hr><table CELLPADDING=0 CELLSPACING=0 width="100%"><tr><td width="33%" align="left"><a href=doc287.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Previous</font></a></td><td width="33%" align="center"><a href=../index.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Contents</font></a></td><td width="33%" align="right"><a href=doc289.html border=0 STYLE="text-decoration: none"><font color="808080" size="2">Next</font></a></td></tr></table></font></body></html>
