<html><head><title>8.13. Actions as conditions</title></head>
<body><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<table><tr width="100%"><td width=80 valign="top"><a href=doc124.html border=0><img border=0 src=../Back.tif border=0></a><a href=../index.html border=0><img border=0 src=../Home.png border=0></a><a href=doc126.html border=0><img border=0 src=../Forward.tif border=0></a></td><td valign="top"><b>8.13. Actions as conditions</b></td></tr></table><p>
<p>
<p>There are two ways that descriptions of actions can be used as conditions. First, we can simply describe an action, and then the condition will be true if that is what the player is trying to do, and not otherwise:
<p>
<blockquote><font color="#000080">... if taking a container then ...
</font></blockquote><p>
<p>
<p>This is actually an abbreviation for the longer, some would say preferable form:
<p>
<blockquote><font color="#000080">... if we are taking a container then ...
</font></blockquote><p>
<p>
<p>Secondly, we can talk about the past as well as the present, which is very useful since interactive fiction often contains situations which are changed by earlier events.
<p>
<blockquote><font color="#000080">Instead of waiting when we have taken the lantern, say &quot;No, your acquisitive nature is roused now, and simply waiting will no longer do.&quot;
</font></blockquote><p>
<p>
<p>More on the past tense later, too: note that &quot;we are taking&quot; has become &quot;we have taken&quot;. For the rule to apply, it is not enough that the action &quot;taking the lantern&quot; has been tried: it must have succeeded.
<p>
<p><hr><p>
<table border=0 bgcolor="#e0e0e0" width=100%><tr><td><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><a name="e128"><a href=doc125.html#e128><img border=0 src=../FlipOpen.png></a> <font color="#800000"><b>Example</b> (*).</font> <i>A room which changes its description depending on whether an object has been examined.</i><p>
<p>
<p>Sometimes a nice effect is to change the way things are described depending on the information the player has gained in the course of play. We could for instance write this:
<p>
<blockquote><font color="#000080"><a href="javascript:pasteCode('&quot;Night Sky&quot;\n\nThe Planetarium is a room. &quot;[if we have examined the sinister message]A dark room where it seems something is about to jump out at you![otherwise]A tranquil dark room with a ceilingful of stars.[end if]&quot;\n\nThe sinister message is a thing in the Planetarium. &quot;A message is taped to the wall.&quot; The description is &quot;\'BEWARE.\'&quot;\n\n\n')"><img border=0 src=paste.png></a> &quot;Night Sky&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The Planetarium is a room. &quot;[if we have examined the sinister message]A dark room where it seems something is about to jump out at you![otherwise]A tranquil dark room with a ceilingful of stars.[end if]&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The sinister message is a thing in the Planetarium. &quot;A message is taped to the wall.&quot; The description is &quot;'BEWARE.'&quot;
</font></blockquote><p>
<p>
<p>On the other hand, beware that this would not work as desired:
<p>
<blockquote><font color="#000080"><a href="javascript:pasteCode('&quot;Night Sky&quot;\n\nThe Planetarium is a room. &quot;[if we have listened to the sinister message]A dark room where it seems something is about to jump out at you![otherwise]A tranquil dark room with a ceilingful of stars.[end if]&quot;\n\nThe sinister message is a thing in the Planetarium. &quot;A message plays very softly, so that you would have to listen to hear it.&quot; Instead of doing anything other than listening to the message: say &quot;It\'s only a sound, after all.&quot;. Instead of listening to the sinister message: say &quot;A voice whispers, \'BEWARE\'.&quot;\n\n\n')"><img border=0 src=paste.png></a> &quot;Night Sky&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The Planetarium is a room. &quot;[if we have listened to the sinister message]A dark room where it seems something is about to jump out at you![otherwise]A tranquil dark room with a ceilingful of stars.[end if]&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The sinister message is a thing in the Planetarium. &quot;A message plays very softly, so that you would have to listen to hear it.&quot; Instead of doing anything other than listening to the message: say &quot;It's only a sound, after all.&quot;. Instead of listening to the sinister message: say &quot;A voice whispers, 'BEWARE'.&quot;
</font></blockquote><p>
<p>
<p>The reason is that our Instead rule has pre-empted normal listening, so Inform considers that we have never successfully heard the message. The moral here is that &quot;if we have...&quot; is useful for tracking events that otherwise proceeded completely normally (picking up ordinary objects, examining things); if we have used instead to make some change, we will have to use a different approach to record that the event did occur as scheduled.
</td></tr></table><p><a name="e122"><a href=ex122.html#e122><img border=0 src=../FlipClosed.png></a> <font color="#800000">Example (***).</font> <i>A box which called "horribly heavy box" after the player has tried to take it the first time.</i><p>
<p><hr><p><a href=doc124.html>Previous</a> / <a href=doc126.html>Next</a> / <a href=../index.html>Contents</a><p></font></body></html>
