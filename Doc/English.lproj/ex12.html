<html><head><title>17.6. Phrases concerning rules</title></head>
<body><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<table><tr width="100%"><td width=80 valign="top"><a href=doc266.html border=0><img border=0 src=../Back.tif border=0></a><a href=../index.html border=0><img border=0 src=../Home.png border=0></a><a href=doc268.html border=0><img border=0 src=../Forward.tif border=0></a></td><td valign="top"><b>17.6. Phrases concerning rules</b></td></tr></table><p>
<p>
<p>The &quot;ignore&quot; phrase is only one of a suite. The full list is:
<p>
<blockquote><font color="#000080">ignore ...rule...
<br>reinstate ...rule...
</font></blockquote><p>
<p>
<p>The &quot;reinstate&quot; phrase simply reverses any previous &quot;ignore&quot; of the same rule, and is otherwise not useful.
<p>
<blockquote><font color="#000080">reject the result of ...rule...
<br>accept the result of ...rule...
</font></blockquote><p>
<p>
<p>Some rules produce results (see below), but they can be set so that whatever result they produce will be ignored. Again, &quot;accept ...&quot; simply undoes a previous &quot;reject ...&quot; and otherwise has no effect.
<p>
<blockquote><font color="#000080">substitute ...first rule... for ...second rule...
<br>restore the original ...second rule...
</font></blockquote><p>
<p>
<p>Whenever the second rule is to be invoked - from any rulebook, or as a result of any &quot;follow&quot; instruction - invoke the first one instead. Again, &quot;restore ...&quot; simply undoes the effect of an earlier &quot;substitute&quot;.
<p>
<blockquote><font color="#000080">move ...first rule... to before/after ...second rule...
</font></blockquote><p>
<p>
<p>This causes the first rule to be ignored whenever it turns up in the ordinary way, but to be invoked either immediately before or immediately after the second rule whenever that second rule is invoked. In effect, it cuts out the first rule from wherever it was, and glues it onto the second. Note that there is no obligation for the first rule to begin in the same rulebook(s) as the second, so this can be used to slot in a wholly new rule, perhaps only if certain circumstances hold.
<p>
<p>These rule-changing instructions allow apparently casual sentences to wreak havoc with the model world. This, for instance, is quite the recipe for mayhem and perplexity:
<p>
<blockquote><font color="#000080">A procedural rule: reject the result of the before rules; ignore the after rules; move the after rules to before the before rules.
</font></blockquote><p>
<p>
<p><hr><p>
<a name="e110"><a href=ex110.html#e110><img border=0 src=../FlipClosed.png></a> <font color="#800000">Example (*).</font> <i>Adjust time advancement so the game clock moves fifteen minutes each turn.</i><p>
<table border=0 bgcolor="#e0e0e0" width=100%><tr><td><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><a name="e12"><a href=doc267.html#e12><img border=0 src=../FlipOpen.png></a> <font color="#800000"><b>Example</b> (**).</font> <i>Adding a new kind of supporter called a perch, where everything dropped lands on the floor.</i><p>
<p>
<p>Inform's default assumption is that if a player on an enterable object drops something, the dropped article winds up beside him on the same supporter or in the same container. This makes lots of sense for a dais, say, or a king-sized bed. It's a little less sensible if the enterable supporter in question is a bar stool or the like. So suppose we want to add a new kind of supporter called a perch, where everything dropped lands on the floor.
<p>
<p>There are actually several ways of implementing this, but one of them is to reach right into the drop action and replace the &quot;standard dropping rule&quot; with a different one of our own invention -- like this:
<p>
<blockquote><font color="#000080"><a href="javascript:pasteCode('&quot;Swigmore U.&quot;\n\nMoe\'s Tavern is a room. The bar is an enterable supporter in Moe\'s. A drink is a kind of thing. On the bar is a drink called a flaming Homer.\n\nA perch is a kind of supporter. A perch is always enterable. The stool is a perch in Moe\'s.\n\nThe player carries a dead field mouse and a tomacco fruit.\n\nA procedural rule:\n\tsubstitute the sophisticated dropping rule for the standard dropping rule.\n\nThis is the sophisticated dropping rule:\n\tif the player is on a perch (called the awkward position)\n\tbegin;\n\t\tlet place be the holder of the awkward position;\n\t\tmove the noun to the place;\n\totherwise;\n\t\tmove the noun to the holder of the player;\n\tend if.\n\n\n')"><img border=0 src=paste.png></a> &quot;Swigmore U.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Moe's Tavern is a room. The bar is an enterable supporter in Moe's. A drink is a kind of thing. On the bar is a drink called a flaming Homer.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A perch is a kind of supporter. A perch is always enterable. The stool is a perch in Moe's.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The player carries a dead field mouse and a tomacco fruit.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A procedural rule:
<br>&nbsp;&nbsp;&nbsp;&nbsp;substitute the sophisticated dropping rule for the standard dropping rule.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">This is the sophisticated dropping rule:
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the player is on a perch (called the awkward position)
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let place be the holder of the awkward position;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;move the noun to the place;
<br>&nbsp;&nbsp;&nbsp;&nbsp;otherwise;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;move the noun to the holder of the player;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end if.
</font></blockquote><p>
<p>
<p>Now the carry-out behavior of the dropping action has been changed, but we haven't had to interfere in the checks or reporting at all. The rest of the action works just as it always did.
<p>
<p>Of course, maybe we do want to change the way the action is reported, to make it clearer to the player where the dropped article wound up:
<p>
<blockquote><font color="#000080"><a href="javascript:pasteCode('A procedural rule:\n\tsubstitute the sophisticated report dropping rule for the standard report dropping rule.\n\nThis is the sophisticated report dropping rule:\n\tsay &quot;You drop [the noun] on [if the holder of the noun is a room]the ground[otherwise][the holder of the noun][end if].&quot;\n\n')"><img border=0 src=paste.png></a> A procedural rule:
<br>&nbsp;&nbsp;&nbsp;&nbsp;substitute the sophisticated report dropping rule for the standard report dropping rule.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">This is the sophisticated report dropping rule:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;You drop [the noun] on [if the holder of the noun is a room]the ground[otherwise][the holder of the noun][end if].&quot;
</font></blockquote><p>
</td></tr></table><p><p><hr><p><a href=doc266.html>Previous</a> / <a href=doc268.html>Next</a> / <a href=../index.html>Contents</a><p></font></body></html>
