<html><head><title>17.11. First and last rules</title></head>
<body><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<table><tr width="100%"><td width=80 valign="top"><a href=doc271.html border=0><img border=0 src=../Back.tif border=0></a><a href=../index.html border=0><img border=0 src=../Home.png border=0></a><a href=doc273.html border=0><img border=0 src=../Forward.tif border=0></a></td><td valign="top"><b>17.11. First and last rules</b></td></tr></table><p>
<p>
<p>This is the final technicality on rulebooks. Rulebooks are, as we have seen, automatically sorted in order of how specific the conditions for invoking the relevant rules are, so that for instance
<p>
<blockquote><font color="#000080">Instead of taking a container, ...
</font></blockquote><p>
<p>
<p>will always come before
<p>
<blockquote><font color="#000080">Instead of taking something, ...
</font></blockquote><p>
<p>
<p>Sometimes, though, and especially with rulebooks where there is no particular ordering because conditions are usually not attached anyway (for instance, with &quot;every turn&quot; rules), it is useful to be certain that a particular rule comes first or last: especially if there is some housekeeping to do.
<p>
<p>For instance, the &quot;turn sequence&quot; rulebook, which is used behind the scenes to organise what happens at the end of each turn, has a crucial piece of housekeeping to do in order to maintain the consistency of the world model: it has to find out if the player's location has been plunged into darkness or, conversely, has been lit up since the last turn. It is essential that this happens last of all so that the situation cannot change again before the next time the player types at the keyboard.
<p>
<p>Each rulebook, then, can have two special rules, the designated &quot;first&quot; rule and the designated &quot;last&quot; rule. These, if defined, have no individual names, so that nobody can displace them from their positions or meddle with them: they belong to whoever created the rulebook.
<p>
<blockquote><font color="#000080">The last appraisal rule: say &quot;The Speak-Your-Progress machine sputters to a halt. You decide not to take this as a comment on your recent performance.&quot;
</font></blockquote><p>
<p>
<p><hr><p>
<a name="e203"><a href=ex203.html#e203><img border=0 src=../FlipClosed.png></a> <font color="#800000">Example (*).</font> <i>Replacing the standard action report rules to reflect our own design.</i><p>
<p><hr><p><a href=doc271.html>Previous</a> / <a href=doc273.html>Next</a> / <a href=../index.html>Contents</a><p></font></body></html>
