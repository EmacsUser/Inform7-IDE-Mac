<html><head><title>3.2. Rooms and the map</title></head>
<body><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><table><tr><td><a href=doc21.html border=0><img border=0 src=../Back.tif border=0></a><a href=../index.html border=0><img border=0 src=../Home.png border=0></a><a href=doc23.html border=0><img border=0 src=../Forward.tif border=0></a></td><td><b>3.2. Rooms and the map</b></td></tr></table><p>
<p>
<p>Rooms are joined together at their edges by &quot;map connections&quot;, most of which are pathways in one of the eight cardinal compass directions: north, northeast (written without a hyphen), east, southeast, south, southwest, west, northwest. We also have up and down, suitable for staircases or ladders. In real life, people are seldom conscious of their compass bearing when walking around buildings, but it makes a concise and unconfusing way for the player to say where to go next, so is generally accepted as a convention of the genre.
<p>
<p>Two more directions are provided by Inform: &quot;inside&quot; and &quot;outside&quot;. These are best used when one location is, say, a meadow and the other is a woodcutter's hut in the middle of it; we might then say
<p>
<blockquote><font color="#000080">Inside from the Meadow is the woodcutter's hut.
</font></blockquote><p>
<p>
<p>The &quot;from&quot; is important, as it clarifies that we intend to link two different locations, not to create an item - the hut - in a single location - the meadow.
<p>
<p>A problem which sometimes arises when laying out maps is that Inform allows short forms of room names to be used as abbreviations. This is usually a good idea, but has unfortunate results if we write:
<p>
<blockquote><font color="#000080">The Airport Road is west of the Fish Packing Plant. The Airport is west of the Airport Road.
</font></blockquote><p>
<p>
<p>...because &quot;Airport&quot; is taken as a reference to &quot;Airport Road&quot;, so Inform makes only two locations, one of which supernaturally leads to itself. We can avoid this by writing:
<p>
<blockquote><font color="#000080">The Airport Road is west of the Fish Packing Plant. A room called the Airport is west of the Airport Road.
</font></blockquote><p>
<p>
<p>Using &quot;called&quot; is often a good way to specify something whose name might give rise to confusion otherwise. It always makes something new, and it is also neatly concise, because we can establish something's kind and name in the same sentence. As another example, suppose we want to create a room called &quot;South of the Hut&quot;, to south of the Hut. We can't do so like this:
<p>
<blockquote><font color="#000080">South of the Hut is a room. South of the Hut is south of the Hut.
</font></blockquote><p>
<p>
<p>...because Inform will read that first sentence as placing a (nameless) room to the south of a room called &quot;Hut&quot;. Once again &quot;called&quot; can save the day:
<p>
<blockquote><font color="#000080">South of the Hut is a room called South of the Hut.
</font></blockquote><p>
<p>
<p>It is best to use &quot;called&quot; in the simplest way possible, and in particular, best not to use &quot;called&quot; twice in the same sentence. Consider:
<p>
<blockquote><font color="#000080">The kitchen cabinet contains a container called a mixing bowl and a portable supporter called a platter.
</font></blockquote><p>
<p>
<p>It is unlikely that anyone would want to name something &quot;a mixing bowl and a portable supporter called a platter&quot;, but not impossible, and Inform tends not to be a good judge of what is likely.
<p>
<a name="e9"><a href=doc22.html#e9><img border=0 src=../FlipOpen.png></a> <font color="#800000"><b>Example</b> (*).</font> <i>A "go back" verb that keeps track of the direction from which the player came, and sends him back.</i><p>
<p>
<p>The main trick of this is always to record where the player has gone when he has just moved.
<p>
<blockquote><font color="#000080">&quot;Polarity&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The North Pole is a room. The South Pole is south of the North Pole.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The former direction is a direction that varies.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">After going a direction:
<br>&nbsp;&nbsp;&nbsp;&nbsp;change the former direction to the noun;
<br>&nbsp;&nbsp;&nbsp;&nbsp;continue the action.
</font></blockquote><p>
<p>
<p>Obviously, this will not be adequate in a game which also moves the player arbitrarily on a regular basis; in that case the &quot;former direction&quot; would have to be reset manually by the author. Assuming, however, that the player always moves around the map on his own volition, we can implement this verb safely:
<p>
<blockquote><font color="#000080">Understand &quot;go back&quot; as retreating. Understand &quot;back&quot; or &quot;return&quot; or &quot;retreat&quot; as retreating.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Retreating is an action applying to nothing.
</font></blockquote><p>
<p>
<p>Now we're helped a bit by the fact that the library directions are all defined with opposites, so that for instance the opposite of &quot;south&quot; is known to be &quot;north&quot;. Thus:
<p>
<blockquote><font color="#000080">Carry out retreating:
<br>&nbsp;&nbsp;&nbsp;&nbsp;let new direction be the opposite of the former direction;
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;(heading [new direction])[line break]&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;try going the new direction.
</font></blockquote><p>
<p>
<p>A refinement on this would be to make sure that the player who types &quot;BACK&quot; before going anywhere will be scolded rather than sent in some direction.
<p><hr><p><a href=doc21.html>Previous</a> / <a href=doc23.html>Next</a> / <a href=../index.html>Contents</a><p></font></body></html>
