<html><head><title>4.8. Text with substitutions</title></head>
<body><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<table><tr width="100%"><td width=80 valign="top"><a href=doc51.html border=0><img border=0 src=../Back.tif border=0></a><a href=../index.html border=0><img border=0 src=../Home.png border=0></a><a href=doc53.html border=0><img border=0 src=../Forward.tif border=0></a></td><td valign="top"><b>4.8. Text with substitutions</b></td></tr></table><p>
<p>
<p>The example about the sound of an underground river is all very well, but what can we do with this new property now that we have created it? The following example gives one idea.
<p>
<blockquote><font color="#000080"><a href="javascript:pasteCode('&quot;The Undertomb&quot;\n\nA dead end is a kind of room with printed name &quot;Dead End&quot; and description &quot;This is a dead end. You\'ll have to go back the way you came, consoled only by [river sound].&quot; A dead end is usually dark.\n\nThe Undertomb is a dark room. East is a dead end. South is a dead end with printed name &quot;Collapsed Dead End&quot;. Northwest is a dead end called the Tortuous Alcove. In the Undertomb is the lantern. It is lit.\n\nA dead end has a property called river sound. The river sound of a dead end is usually &quot;a faint whispering of running water&quot;. The Tortuous Alcove has river sound &quot;a gurgle of running water&quot;.\n\n\n')"><img border=0 src=paste.png></a> &quot;The Undertomb&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A dead end is a kind of room with printed name &quot;Dead End&quot; and description &quot;This is a dead end. You'll have to go back the way you came, consoled only by [river sound].&quot; A dead end is usually dark.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The Undertomb is a dark room. East is a dead end. South is a dead end with printed name &quot;Collapsed Dead End&quot;. Northwest is a dead end called the Tortuous Alcove. In the Undertomb is the lantern. It is lit.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A dead end has a property called river sound. The river sound of a dead end is usually &quot;a faint whispering of running water&quot;. The Tortuous Alcove has river sound &quot;a gurgle of running water&quot;.
</font></blockquote><p>
<p>
<p>The novelty here is the text in square brackets in the first paragraph above. They imply more or less what they would when a journalist is quoting something in a newspaper article. The actual words &quot;river sound&quot; are not part of the text. Instead, when Inform prints up the description of a dead end, it will substitute the appropriate river sound in place of these words.
<p>
<p>Thus the description of the Collapsed Dead End is &quot;This is a dead end. You'll have to go back the way you came, consoled only by a faint whispering of running water.&quot;, whereas the description of the Tortuous Alcove is &quot;This is a dead end. You'll have to go back the way you came, consoled only by a gurgle of running water.&quot; As the player explores these dead ends, subtle differences will appear in their room descriptions.
<p>
<p>We can put almost any description of a value in square brackets in text, and Inform will work out what kind of value it is and print something accordingly. For instance, &quot;You admire [the lantern].&quot; will expand to &quot;You admire the candle lantern.&quot;, spelling out the full name of the lantern.
<p>
<p><hr><p>
<table border=0 bgcolor="#e0e0e0" width=100%><tr><td><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><a name="e104"><a href=doc52.html#e104><img border=0 src=../FlipOpen.png></a> <font color="#800000"><b>Example</b> (*).</font> <i>Using text substitution to make characters reply differently under the same circumstances.</i><p>
<p>
<p>We can use these substitutions to put together fairly complicated variations within a single piece of text:
<p>
<blockquote><font color="#000080"><a href="javascript:pasteCode('&quot;Fifty Ways to Leave Your Larva&quot;\n\nThe Beekeeper\'s Palace is a room. Wasp is a woman in the palace. Drone is a man in the palace.\n\nInstead of kissing someone:\n\tsay &quot;\'[denial], [insult]! [boast]!\'[paragraph break]&quot;;\n\n[In this context, [denial] is understood to refer to the denial property of the noun -- but we could spell it out with &quot;denial of the noun&quot; if we wanted to.]\n\nA person has a property called denial. The denial of a person is usually &quot;Stand back&quot;. The denial of Drone is &quot;You forget yourself&quot;\n\nA person has a property called  insult. The insult of a person is usually &quot;Grasshopper&quot;. The insult of Wasp is &quot;Larva&quot;.\n\nA person has a property called  boast. The boast of a person is usually &quot;I am ferocious&quot;. The boast of Drone is &quot;I have ferocious allies&quot;.\n\n[And then it would be trivial to insert further rules using these responses:]\n\nInstead of attacking someone:\n\tsay &quot;\'Get away, [insult]!\'[paragraph break]&quot;\n\n')"><img border=0 src=paste.png></a> &quot;Fifty Ways to Leave Your Larva&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The Beekeeper's Palace is a room. Wasp is a woman in the palace. Drone is a man in the palace.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Instead of kissing someone:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;'[denial], [insult]! [boast]!'[paragraph break]&quot;;
</font></blockquote><p>
<p>
<p>In this context, [denial] is understood to refer to the denial property of the noun -- but we could spell it out with &quot;denial of the noun&quot; if we wanted to.
<p>
<blockquote><font color="#000080">A person has a property called denial. The denial of a person is usually &quot;Stand back&quot;. The denial of Drone is &quot;You forget yourself&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A person has a property called  insult. The insult of a person is usually &quot;Grasshopper&quot;. The insult of Wasp is &quot;Larva&quot;.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A person has a property called  boast. The boast of a person is usually &quot;I am ferocious&quot;. The boast of Drone is &quot;I have ferocious allies&quot;.
</font></blockquote><p>
<p>
<p>And then it would be trivial to insert further rules using these responses:
<p>
<blockquote><font color="#000080">Instead of attacking someone:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;'Get away, [insult]!'[paragraph break]&quot;
</font></blockquote><p>
</td></tr></table><p><a name="e105"><a href=ex105.html#e105><img border=0 src=../FlipClosed.png></a> <font color="#800000">Example (**).</font> <i>Writing your own rules for how to carry out substitutions.</i><p>
<p><hr><p><a href=doc51.html>Previous</a> / <a href=doc53.html>Next</a> / <a href=../index.html>Contents</a><p></font></body></html>
