<html><head><title>22.4. Fundamental semantics</title></head>
<body><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<table><tr><td><a href=doc309.html border=0><img border=0 src=../Back.tif border=0></a><a href=../index.html border=0><img border=0 src=../Home.png border=0></a><a href=doc311.html border=0><img border=0 src=../Forward.tif border=0></a></td><td><b>22.4. Fundamental semantics</b></td></tr></table><p>
<p>
<p>Scenes. Greater flexibility: perhaps with scenes implemented as objects, though there are problems with this, and the basic difficulty is that if we have classes of scenes then what we really need is to have classes of rulebooks and ambiguous treatment of said - e.g., &quot;When a surreal scene ends:&quot; looks like an action pattern, but if anything it's a &quot;rule pattern&quot;, a concept which does not exist in Inform right now. Examples of what might be gained, maybe:
<p>
<blockquote><font color="#000080">A movie is a kind of scene. A movie has a table-name called sequence.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Every turn during a movie (called the current movie):
<br>&nbsp;&nbsp;&nbsp;&nbsp;repeat through the sequence of the current movie
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[Event entry][paragraph break]&quot;; blank out the whole row; rule succeeds;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end repeat.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">A timer is a kind of scene. A timer has a number called length. A timer (called the current scene) ends when the number of turns since the current scene began is the length of the current scene.
</font></blockquote><p>
<p>
<p>Action patterns. These can at present be vague about objects, but not values, which is why the following is not now allowed:
<p>
<blockquote><font color="#000080">Understand &quot;spin [something] to [a number]&quot; as spinning it to.
<br>After spinning the dial to a number:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;That turns out not to open the dial.&quot;
</font></blockquote><p>
<p>
<p>Action patterns could also usefully understand choices of objects/values, as in &quot;taking the duck or the drake&quot;, though &quot;or&quot; ambiguities are already a potential killer on run-time for the parser, and sufficiently long chains of &quot;or&quot; clauses can cause the memory manager to explode in boils.
<p>
<p>Relations. It should be possible to provide defined relations which act on values as well as objects, for completeness's sake. (Though most of the useful cases - comparing things against measurements - are already provided using the comparatives and superlatives mechanism.)
<p>
<blockquote><font color="#000080">Oh, I don't know, this suggests the concept of one-to-various relations for values, which is kind of interesting. Unless I'm misunderstanding what you have in mind. Would this mean being able to do (e.g.) &quot;Lawrence feels happy and hungry&quot; or &quot;The table is made of wood and metal&quot;? I can see more practical applications for the former than the latter, off the top of my head, but you never know.[ES]
</font></blockquote><p>
<p>
<p>Basic kinds of value. There is (for alas good reasons) not quite a concept of a &quot;set of things&quot; in Inform at present - there is no efficient run-time representation which could reliably work in the Z-machine architecture, which relies on call by value and has no direct access to the stack. But we might be able to do this, if the user could accept that there could be no local variables, and that sets could therefore not be passed by value to routines. The aim would be to implement a set of objects - not values - as a bitmap, so it would very much be &quot;sets&quot;, not &quot;lists&quot;. A set could have a kind attached, forcing it to contain only instances of that kind. Lots of other data types would also be nice - long integers, arbitrary-precision integers, floating-point numbers, etcetera. But they all founder on the Z-machine. Zarf thinks this can't be done.
<p>
<p><hr><p><a href=doc309.html>Previous</a> / <a href=doc311.html>Next</a> / <a href=../index.html>Contents</a><p></font></body></html>
