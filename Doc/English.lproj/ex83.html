<html><head><title>17.5. Procedural rules</title></head>
<body><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<table><tr width="100%"><td width=80 valign="top"><a href=doc265.html border=0><img border=0 src=../Back.tif border=0></a><a href=../index.html border=0><img border=0 src=../Home.png border=0></a><a href=doc267.html border=0><img border=0 src=../Forward.tif border=0></a></td><td valign="top"><b>17.5. Procedural rules</b></td></tr></table><p>
<p>
<p>Before any rule or rulebook is followed, a special rulebook is always consulted first. This is called the &quot;procedural rules&quot;, and it starts out empty: so if we write no procedural rules, empty it will remain.
<p>
<p>Like the points of order which precede a debate, the procedural rules are not intended to contribute to any decision in themselves, but merely to sort out which voices are to be heard when the time for decision comes. Should some rules be waived, or others substituted? Should the rulebook be rearranged, in certain circumstances? And so on. Procedural rules offer enormous flexibility and with them one could deconstruct Inform and put it back together in a very different shape - but in practical situations they will only occasionally be needed.
<p>
<p>Procedural rules are not allowed to say anything, or indeed to do anything which might have practical consequences; they are only allowed to think about the current situation (if they need to) and then use special phrases (if they choose to) which affect how other rules are to be followed. For instance:
<p>
<blockquote><font color="#000080">A procedural rule: if in the Timeless Void then ignore the advance time rule.
</font></blockquote><p>
<p>
<p>Since the &quot;advance time rule&quot; is the one which moves on the number of turns and the clock, this means that the Timeless Void lives up to its name.
<p>
<p><hr><p>
<a name="e109"><a href=ex109.html#e109><img border=0 src=../FlipClosed.png></a> <font color="#800000">Example (*).</font> <i>The Pointy Hat of Liminal Transgression allows its wearer to walk clean through closed doors.</i><p>
<a name="e182"><a href=ex182.html#e182><img border=0 src=../FlipClosed.png></a> <font color="#800000">Example (*).</font> <i>A set of actions which do not take any game time at all.</i><p>
<table border=0 bgcolor="#e0e0e0" width=100%><tr><td><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><a name="e83"><a href=doc266.html#e83><img border=0 src=../FlipOpen.png></a> <font color="#800000"><b>Example</b> (**).</font> <i>A GIVE command that gets rid of Inform's default refusal message in favor of something a bit more sophisticated.</i><p>
<p>
<p>If we want to rewrite the functionality of a command that usually ends with a &quot;block...&quot; rule, we will have to begin by turning the blocking off.
<p>
<blockquote><font color="#000080"><a href="javascript:pasteCode('&quot;Bribery&quot;\n\nProcedural rule: ignore the block giving rule.\n\n[And now we\'re free to write GIVE so that it does a bit more:]\n\nCheck giving (this is the polite refusal of unwanted objects rule):\n\tif the noun interests the second noun\n\tbegin;\n\t\tdo nothing;\n\totherwise;\n\t\tsay &quot;[The second noun] disdainfully refuses [the noun].&quot; instead;\n\tend if.\n\nTo decide whether (item - a thing) interests (character - a person):\n\tif the character has the item, no;\n\tif the item is edible, yes;\n\tno.\n\nCarry out giving (this is the physical acceptance rule): move the noun to the second noun.\n\nCarry out giving (this is the gratitude for gifts rule): improve the mood of the second noun.\n\nMood is a kind of value. The moods are hostile, suspicious, indifferent, friendly, and adoring. An animal has a mood. An animal is usually indifferent.\n\nTo improve the mood of (character - an animal):\n\tif the mood of character is less than friendly, change the mood of the character to the mood after the mood of the character.\n\nReport giving:\n\tsay &quot;[The second noun] accepts [the noun].&quot;\n\nInstead of showing something to someone:\n\ttry giving the noun to the second noun.\n\nThe Leafy Branch is a room. &quot;You stand on smooth bark dappled by sunlight. The scent-trail runs forward to home.\n\nThe branch continues forward and backward from here, and a stem extends forward-up.&quot;\n\nThe Very Hungry Caterpillar is a hostile animal in the Leafy Branch. &quot;[The Caterpillar] looks [mood].&quot;\n\n')"><img border=0 src=paste.png></a> &quot;Bribery&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Procedural rule: ignore the block giving rule.
</font></blockquote><p>
<p>
<p>And now we're free to write GIVE so that it does a bit more:
<p>
<blockquote><font color="#000080">Check giving (this is the polite refusal of unwanted objects rule):
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the noun interests the second noun
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;do nothing;
<br>&nbsp;&nbsp;&nbsp;&nbsp;otherwise;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[The second noun] disdainfully refuses [the noun].&quot; instead;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end if.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">To decide whether (item - a thing) interests (character - a person):
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the character has the item, no;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the item is edible, yes;
<br>&nbsp;&nbsp;&nbsp;&nbsp;no.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Carry out giving (this is the physical acceptance rule): move the noun to the second noun.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Carry out giving (this is the gratitude for gifts rule): improve the mood of the second noun.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Mood is a kind of value. The moods are hostile, suspicious, indifferent, friendly, and adoring. An animal has a mood. An animal is usually indifferent.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">To improve the mood of (character - an animal):
<br>&nbsp;&nbsp;&nbsp;&nbsp;if the mood of character is less than friendly, change the mood of the character to the mood after the mood of the character.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Report giving:
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;[The second noun] accepts [the noun].&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">Instead of showing something to someone:
<br>&nbsp;&nbsp;&nbsp;&nbsp;try giving the noun to the second noun.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The Leafy Branch is a room. &quot;You stand on smooth bark dappled by sunlight. The scent-trail runs forward to home.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The branch continues forward and backward from here, and a stem extends forward-up.&quot;
</font></blockquote><p>
<p>
<blockquote><font color="#000080">The Very Hungry Caterpillar is a hostile animal in the Leafy Branch. &quot;[The Caterpillar] looks [mood].&quot;
</font></blockquote><p>
</td></tr></table><p><p><hr><p><a href=doc265.html>Previous</a> / <a href=doc267.html>Next</a> / <a href=../index.html>Contents</a><p></font></body></html>
