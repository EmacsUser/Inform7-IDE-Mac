<html><head><title>4.5. Before rules</title></head>
<body><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><table><tr><td><a href=doc44.html><img src=../Back.tif></a><a href=doc46.html><img src=../Forward.tif></a></td><td><b>4.5. Before rules</b></td></tr></table><p>
<p>
<p>Despite what was said in the previous section, instead rules do not quite bypass all of the usual rules. Inform knows that certain actions require light: for instance,
<p>
<p><blockquote><font color="#000080">examining the napkin; looking; looking under the dining table</font></blockquote>
<p>
<p>and if it is dark then none of these actions will be allowed, and any instead rules about them will not even be reached. Similarly, Inform knows that most actions require physical access to their objects: so &quot;taking the napkin&quot; would be blocked if the napkin were, say, inside a closed glass bottle, whereas &quot;examining the napkin&quot; would not. So an instead rule can only take effect if the action has already passed these basic reasonability tests.
<p>
<p>&quot;Before&quot; rules genuinely precede checking of any kind. They also differ from instead rules in that they do not automatically stop the action in its tracks. Rather, they are provided as an opportunity to ensure that something else is done first. For example:
<p>
<p><blockquote><font color="#000080">Before taking the napkin, say &quot;(first unfolding its delicate origami swan)&quot;.</font></blockquote>
<p>
<p>whence
<p>
<p><blockquote><font color="#000080">&gt;GET NAPKIN<br>(first unfolding its delicate origami swan)<br>Taken.</font></blockquote>
<p>
<p>We have seen that instead rules automatically stop actions, whereas before rules automatically allow them to continue. We sometimes want to change this. The magic word &quot;instead&quot; can therefore be tacked on to any instruction in a before rule, and will have the effect of immediately stopping the action at that instruction. Thus the following two rules are (almost) equivalent:
<p>
<p><blockquote><font color="#000080">Before removing the key, instead say &quot;It seems to be soldered to the keyhole.&quot;</font></blockquote>
<p>
<p><blockquote><font color="#000080">Instead of removing the key, say &quot;It seems to be soldered to the keyhole.&quot;</font></blockquote>
<p>
<p>Two special phrases can also be used: &quot;stop the action&quot; and &quot;continue the action&quot;. Yet a third way to achieve the same effect, then, would be:
<p>
<p><blockquote><font color="#000080">Before removing the key: say &quot;It seems to be soldered to the keyhole.&quot;; stop the action.</font></blockquote>
<p>
<p>And to round off the discussion, these are also (almost) equivalent:
<p>
<p><blockquote><font color="#000080">Before taking the napkin, say &quot;(first unfolding its delicate origami swan)&quot;.</font></blockquote>
<p>
<p><blockquote><font color="#000080">Instead of taking the napkin: say &quot;(first unfolding its delicate origami swan)&quot;; continue the action.</font></blockquote>
<p>
<p>As a general principle, it is good style to use instead rules whenever blocking actions, and before rules only when it is genuinely necessary to do something first but then to continue: in fact, it is good style to use &quot;stop the action&quot; or &quot;continue the action&quot; as little as possible.
<p>
<p><hr><p><a href=doc44.html>Previous</a> / <a href=doc46.html>Next</a> / <a href=../index.html>Contents</a><p></font></body></html>
