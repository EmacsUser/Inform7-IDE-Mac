<html><head><title>21.1. Emily Short <emshort@mindspring.com> -  Ignore until feeling hardy</title></head>
<body><font face="lucida grande,geneva,arial,tahoma,verdana,helvetica,helv" size=2><script language="JavaScript">
function pasteCode(code) {
    var myProject = window.Project;

    myProject.selectView('source');
    myProject.pasteCode(code);
}
</script>
<h2>Chapter 21: Recently Closed Bugs</h2><p><table><tr width="100%"><td width=80 valign="top"><a href=doc314.html border=0><img border=0 src=../Back.tif border=0></a><a href=../index.html border=0><img border=0 src=../Home.png border=0></a><a href=doc316.html border=0><img border=0 src=../Forward.tif border=0></a></td><td valign="top"><b>21.1. Emily Short <emshort@mindspring.com> -  Ignore until feeling hardy</b></td></tr></table><p>
<p>
<p><i>Reported by:</i> Emily Short <emshort@mindspring.com> / <i>Date:</i> 31 January 2006
<p>
<p><i>Nature:</i> The source looks legal and produces a playable game, but 	  the game does not do what it should
<p>
<p><i>Build:</i> 3E61
<p>
<p><i>Platform:</i> Mac OS X
<p>
<p>
<p>
<p><i>Code example:</i>
<p>
<p>
<blockquote><font color="#000080"><a href="javascript:pasteCode('Procedural rule: substitute the helpful indirection rule for the block vaguely going rule.\n\nThis is the helpful indirection rule:\n\t\tlet chosen way be the logical exit;\n\t\tif chosen way is a direction\n\t\tbegin;\n\t\t\tsay &quot;(heading [chosen way])&quot;;\n\t\t\tchange the noun to the chosen way;\n\t\totherwise;\n\t\t\t say &quot;You will have to be more specific about which direction you want to go.&quot;;\n\t\tend if;\n\n\nThe Entrance Hall is a room. The Courtyard is north of the Entrance Hall. The Dining Hall is west of the Entrance Hall. The Kitchen is west of the Dining Hall. The Scarlet Gallery is east of the Entrance Hall.\n\n\nTo decide what direction is the logical exit:\n\tlet counter be 0;\n\tlet chosen way be north;\n\trepeat with way running through directions\n\tbegin;\n\t\tlet place be the room way from the location;\n\t\tif place is a room\n\t\tbegin;\n\t\t\tincrease counter by 1;\n\t\t\tlet chosen way be the way;\n\t\tend if;\n\tend repeat;\n\tif counter is 1, decide on the chosen way.\n\n\n\n\n\n\n')"><img border=0 src=paste.png></a> Procedural rule: substitute the helpful indirection rule for the block vaguely going rule.
</font></blockquote><p>
<p>
<blockquote><font color="#000080">This is the helpful indirection rule:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let chosen way be the logical exit;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if chosen way is a direction
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;(heading [chosen way])&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change the noun to the chosen way;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;otherwise;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; say &quot;You will have to be more specific about which direction you want to go.&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end if;
</font></blockquote><p>
<p>
<p>
<blockquote><font color="#000080">The Entrance Hall is a room. The Courtyard is north of the Entrance Hall. The Dining Hall is west of the Entrance Hall. The Kitchen is west of the Dining Hall. The Scarlet Gallery is east of the Entrance Hall.
</font></blockquote><p>
<p>
<p>
<blockquote><font color="#000080">To decide what direction is the logical exit:
<br>&nbsp;&nbsp;&nbsp;&nbsp;let counter be 0;
<br>&nbsp;&nbsp;&nbsp;&nbsp;let chosen way be north;
<br>&nbsp;&nbsp;&nbsp;&nbsp;repeat with way running through directions
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let place be the room way from the location;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if place is a room
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;increase counter by 1;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let chosen way be the way;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end if;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end repeat;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if counter is 1, decide on the chosen way.
</font></blockquote><p>
<p>
<p>
<p>
<p>
<p>
<p><i>What goes wrong:</i>
<p>
<p>
<p>This works dandily in cases pertaining to going:
<p>
<p>Entrance Hall
<p>
<p>>go
<p>You will have to be more specific about which direction you want to go.
<p>
<p>>go east
<p>
<p>Scarlet Gallery
<p>
<p>>go
<p>(heading west)
<p>
<p>Entrance Hall
<p>
<p>>
<p>
<p>...but inexplicably interferes under other circumstances:
<p>
<p>>eat all
<p>You will have to be more specific about which direction you want to go.
<p>
<p>...for which reason I conclude that it is ignoring the &quot;while going&quot; part of this rule.
<p>
<p>
<p>
<p><i>Comments:</i>
<p>
<p>
<p>I'm assuming this is something moderately annoying to do with replacing a named rule that also had an associated restriction (while going).
<p>
<p>It is possible to tidy up a bit by converting to
<p>
<p>This is the helpful indirection rule:
<blockquote><font color="#000080">if going
<br>begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;let chosen way be the logical exit;
<br>&nbsp;&nbsp;&nbsp;&nbsp;if chosen way is a direction
<br>&nbsp;&nbsp;&nbsp;&nbsp;begin;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;(heading [chosen way])&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change the noun to the chosen way;
<br>&nbsp;&nbsp;&nbsp;&nbsp;otherwise;
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; say &quot;You will have to be more specific about which direction you want to go[if novice mode is functioning]. The available directions are[exit list][end if].&quot;;
<br>&nbsp;&nbsp;&nbsp;&nbsp;end if;
<br>otherwise;
<br>&nbsp;&nbsp;&nbsp;&nbsp;say &quot;You will have to be more specific.&quot;;
<br>end if.
</font></blockquote><p>
<p>
<p>so this is not a mission-critical bug.
<p>
<p>
<p><hr><p><a href=doc314.html>Previous</a> / <a href=doc316.html>Next</a> / <a href=../index.html>Contents</a><p></font></body></html>
